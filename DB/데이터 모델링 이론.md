10-08-2023

<데이터 모델링 이론>

데이터 모델링이란? 데이터의 구조를 설계하는 것(데이터를 읽고 쓰기 위한 모델을 만드는 것)

1. 개념 : 업무 분석
2. 논리 : 업무 설계
3. 물리 : 기술 구현

ER 모델(Entity-Relationship Model)
: 표현하고자 하는 현실 세계의 업무를 개체(또는 실체, Entity)와 관계(Relationship)라는 두 가지 개념으로 표현하는 모델이다.
비교적 개념이 이해하기 쉽고 모델을 확장할 수 있어서 데이터베이스 설계를 위한 데이터 모델 중에서 가장 널리 활용되고 있다.
ER 모델은 개체와 개체 간의 관계를 ER 표기법을 사용하여 표현한다.
ERD(Entity-Relationship Diagram)는 ER  모델에서 사용하는 실체와 관계를 도식화한 것으로, 실체와 이들 간의 관계를 알기 쉽도록 미리 약속한 도형을 사용하여 표현한 것이다.

ER 모델의 질적 특성
: 완전성(Completeness) : ER 모델은 현실 세계의 모든 업무적인 요구사항을 표현하고 있어야 한다. 
: 정확성(Correctness) : ER 모델의 개념대로 데이터 모델을 작성해야 한다. 엔티티 대신 속성을 사용하지 않아야 하고,슈퍼타입 관계를 명확히 해야 한다.
슈퍼타입과 서브타입 사이의 상속(Inheritance)을 표현하고, 관계와 관련된 개별 엔티티를 명확히 정의해야 한다. 관계 대신 엔티티를 사용하지 않아야 하고, 실체의 식별자를 명확히 해야 한다.
카디널리티(Cardinallity)와 옵셔널리티(opitonality)를 명확하게 표현해야 한다.
: 최소성(Minimalitiy) : 요구사항의 모든 특성이 ER 모델에 한 번만 나타나도록 설계해야 한다. 중복이 나타난다면 중복 데이터(Derived Data)를 반드시 문서화해야 한다.
: 자명성(Self-explanation) : 별도 보조자료 없이 설명이나 증명을 하지 않아도 요구사항에 대한 뜻이나 의미를 명확히 설명할 수 있어야 한다.
: 확장성(Extensibility) :  향후 업무 범위나 규모가 확대되거나 변경될 경우 새로운 요구사항을 쉽게 반영할 수 있도록 유연한 모델을 설계해야 한다.
: 표현성(Expressiveness) : 추가적인 설명 없이도 ER 모델의 의미를 쉽게 이해할 수 있또록 명확하게 설계해야 한다.
: 가독성(Readibility) : ER 모델을 읽기 쉽고 그 뜻을 쉽게 알아차릴 수 있도록 표현해야 한다.


ER 모델 구성 요소 : 엔티티(Entity), 관계(Relationship), 속성(Attribute) + 식별자(Identifier, 속성과 관계 중 하나 이상의 조합으로 구성됨)

* 엔티티(Entity)
: 주문, 계약처럼 실체와 실체 간의 관계에 해당하는 엔티티를 포함한다. 엔티티는 적어도 둘 이상의 인스턴스가 존재할 수 있어야 한다.
최소한 둘 이상의 속성이 있어야 하고, 반드시 각 인스턴스를 식별할 수 있는 속성이나 관계가 하나 이상 정의되어야 한다.
우리가 일반적으로 얘기하는 엔티티는 정확히 말하면 엔티티 타입인데, 엔티티는 엔티티타입의 실체(인스턴스)에 해당한다.
예를 들면 고객은 엔티티타입이고, 고객인 '유동오'는 엔티티이다. 일반적으로 엔티티와 엔티티타입을 구분하지 않고 엔티티로 통칭하여 사용한다.
엔티티는 슈퍼타입(부모)이나 서브타입(자식)으로 확장할 수 있다.

* 일반화(Generalization)
: 엔티티 각각이 가지고 있는 고유한 특징을 일반화하여 공통의 속성으로 재정의한 것이다.
엔티티 일반화는 두 개 이상의 하위 수준(개인고객과 법인고객) 엔티티를 결합하여 상위 수준(고객)의 엔티티로 통합하는 상향식 접근 방식이다.
일반화는 인스턴스 존재 유형에 따라 완전/불완전, 배타적/포괄적 일반화로 나눌 수 있다.
일반화 유형이 상위 수준 엔티티(슈퍼타입)의 모든 인스턴스가 하위 수준 엔티티(서브타입)의 인스턴스에 모두 존재하느냐 일부만 존재하느냐에 따라 완전 일반화와 불완전 일반화로 나눌 수 있다.
상위 수준 엔티티의 모든 인스턴스가 하위 수준 엔티티 중 하나에만 존재한다면 배타적 일반화이고, 둘 이상의 하위 엔티티에 속한다면 포괄적 일반화에 해당한다.
예를 들어, 사람을 성별로 구분할 경우 남자나 여자 둘 중 하나에는 반드시 존재하므로 완전 일반화이고, 남자나 여자 둘 중 하나만 속해야 하므로 배타적이다.
학교 구성원의 하위 수준 엔티티를 교수와 학생으로 구분할 경우 교직원을 포함하지 않을므로 불완전한 집합이 되고, 교수이면서 학생이 될 수 있으므로 포괄적인 성격을 가지게 된다.


10-09-2023

* 특수화(Specialization)
: 일반화의 반대 개념으로, 하나의 상위 수준 엔티티를 두 개 이상의 하위 수준 엔티티로 분할하는 하향식 접근 방식이다.
일반적으로 슈퍼타입을 정의하고, 서브타입과 속성을 정의한 후 관계를 정의한다.

* 집단화(Aggregation)
: 여러 엔티티의 집합으로 하나의 또다른 엔티티를 정의하는 것을 뜻한다.
하나의 엔티티로 취급되는 두개 의 엔티티 사이에서 나타나며, 해당 엔티티와의 관계가 상위 수준 엔티티로 대체된다.

* 엔티티의 분류
1. 엔티티 관계에 따라서 강한(Strong) 엔티티 - 약한(Weak) 엔티티로 나눈다.
강한 엔티티는 독립적으로 존재하며, 엔티티 내에서 자체 식별자를 사용하여 고유하게 인스턴스를 식별할 수 있는 엔티티다. 고객, 상품 등이 해당된다.
약한 엔티티는 다른 엔티티에 종속적이고, 자체 식별자를 가지지 못하고, 다른 엔티티의 식별자를 상속받아 사용하는 엔티티다. 주문상품이 해당되는데, 이는 주문번호 속성을 주문에서 상속받아 식별자로 사용한다.
2. 엔티티 형태에 따라서 독립(Kernel, Master) - 업무중심(Transaction) - 종속(Dependent) - 교차(Associative, Relative) 엔티티로 분류한다.
독립 엔티티 : 사람, 물건(대상), 장소, 개념처럼 원래부터 현실에 존재하는 엔티티다. 고객, 상품, 창고, 조직 등
업무중심 엔티티 : 업무를 처리하면서 발생하는 데이터에 해당하는 엔티티이고, 주제영역에서 가장 핵심이 되는 엔티티로 통상 주제영역 이름과 동일하거나 비슷한 의미의 이름을 갖는다. 주문, 결제, 배송, 청구 등
종속 엔티티 : 주로 업무중심 엔티티에서 1차 정규화로 인해 분리된 엔티티에 해당한다. 주문상품, 주문배송 엔티티는 주문엔티티가 있어야 존재할 수 있는 엔티티이며, 주문 엔티티의 종속 엔티티에 해당된다.
교차 엔티티 : 두 개 이상의 엔티티 간에 발생하는 트랜잭션에 의해 생성되는 엔티티다. 고객과 역할 간의 관계 엔티티인 고객역할 엔티티처럼 대부분 논리 모델링에서 다대다 관계를 해소하기 위해 도출된다.
3. 엔티티 생성 관점에 따라서 핵심(Key) - 중요(Main) - 행위(Action) 엔티티로 구분한다.
핵심 엔티티 : 고객, 상품, 조직처럼 자신의 부모 엔티티를 갖지 않는 독립적이며 핵심적인 엔티티다.
중요 엔티티 : 핵심 엔티티 간의 거래 관계에 의해 생성되는 엔티티이지만, 업무의 핵심이 되는 엔티티다. 계약은 고객과 상품의 거래 관계에 의해 생성되며, 고객과 사품을 부모로 갖는다.
행위 엔티티 : 실제 업무 행위에 있어서 지속해서 발생하는 거래 행위에 대한 엔티티다. 청구내역 엔티티는 중요 엔티티에 해당하는 계약에 의해 지속해서 발생하는 데이터를 관리하는 엔티티에 해당한다.
4. 엔티티 형태에 따라서 실체(Tangible) - 비실체(Intangible) 엔티티로 나누고, 비실체 엔티티는 개념 - 사건(Event)로 나눈다.
실제 엔티티 : 고객, 상품과 같이 눈으로 볼 수 있는 물리적인 형태를 가지는 엔티티다.
개념 엔티티 : 조직, 보험상품, 서비스 등 물리적인 형태는 없으나 개념적으로 존재하는 비실체 엔티티다.
사건 엔티티 : 계약, 주문, 결제 등과 같이 업무 행위와 관련된 비실체 엔티티이며, 데이터가 빈번하게 생성되고 변경됭는 특성이 있다.